<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Chang Zihao</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://changzihao.me/"/>
  <updated>2018-02-02T12:12:35.000Z</updated>
  <id>http://changzihao.me/</id>
  
  <author>
    <name>Chang Zihao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>qemuè¿è¡Œriscv linux</title>
    <link href="http://changzihao.me/2018/02/02/qemu-run-riscv/"/>
    <id>http://changzihao.me/2018/02/02/qemu-run-riscv/</id>
    <published>2018-02-02T12:12:35.000Z</published>
    <updated>2018-02-02T12:12:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‡ç¨‹ï¼š<br>åœ¨ç‰©ç†æœåŠ¡å™¨ä¸Šå®‰è£…qemuæ¨¡æ‹Ÿå™¨ï¼Œæ¨¡æ‹Ÿå™¨ä¸­è¿è¡ŒåŸºäºriscvæŒ‡ä»¤é›†ç¼–è¯‘çš„linuxé•œåƒæ–‡ä»¶ã€‚</p><p>å·¥å…·é›†åˆï¼š</p><ul><li>riscv-qemuï¼ˆæ¨¡æ‹Ÿå™¨ï¼Œå¯ä»¥æ¨¡æ‹Ÿè¿è¡ŒriscvæŒ‡ä»¤é›†çš„ç¨‹åºæˆ–é•œåƒï¼‰</li><li>riscv-toolsï¼ˆåŸºäºriscvæŒ‡ä»¤é›†çš„äº¤å‰ç¼–è¯‘å·¥å…·ï¼‰</li><li>riscv-pkï¼ˆç”¨äºåŒ…è£…å†…æ ¸æ–‡ä»¶vmlinuxï¼‰</li><li>busybox(ç”¨äºç»™linuxé•œåƒå®‰è£…åŸºæœ¬å‘½ä»¤ï¼Œå¦‚lsï¼Œcatï¼Œmvç­‰ç­‰)</li></ul><h2 id="ä¸€ã€ä»é›¶å¼€å§‹"><a href="#ä¸€ã€ä»é›¶å¼€å§‹" class="headerlink" title="ä¸€ã€ä»é›¶å¼€å§‹"></a>ä¸€ã€ä»é›¶å¼€å§‹</h2><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•å«åš<code>$TOP</code>,è¿›å…¥å·¥ä½œç›®å½•ï¼Œå¹¶å°†è®¾å®š<code>$TOP</code>ç¯å¢ƒå˜é‡  </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mkdir riscv</span><br><span class="line">$ <span class="built_in">cd</span> riscv</span><br><span class="line">$ $ <span class="built_in">export</span> TOP=$(<span class="built_in">pwd</span>)</span><br></pre></td></tr></table></figure><h2 id="äºŒã€å®‰è£…riscv-toolchain"><a href="#äºŒã€å®‰è£…riscv-toolchain" class="headerlink" title="äºŒã€å®‰è£…riscv-toolchain"></a>äºŒã€å®‰è£…riscv-toolchain</h2><p>1 . ä¸‹è½½äº¤å‰ç¼–è¯‘å·¥å…·:  </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/riscv/riscv-tools.git</span><br><span class="line">$ <span class="built_in">cd</span> <span class="variable">$TOP</span>/riscv-tools</span><br><span class="line">$ git submodule update --init --recursive</span><br></pre></td></tr></table></figure><p>2 . ä¸ºäº†ç¼–è¯‘gccï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€äº›å…¶ä»–çš„ä¾èµ–åº“ï¼ŒåŒ…æ‹¬ flex, bison, autotools, libmpc, libmpfr, and libgmp. Ubuntuç³»ç»Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install autoconf automake autotools-dev curl device-tree-compiler libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf</span><br></pre></td></tr></table></figure><p>3 . åœ¨å¼€å§‹å®‰è£…ä¹‹å‰ï¼Œéœ€è¦è®¾ç½®<code>$RISCV</code>,<code>$PATH</code>ç¯å¢ƒå˜é‡ï¼Œè¿™äº›ç¯å¢ƒå˜é‡ä¼šåœ¨æ•´ä¸ªå®‰è£…è¿‡ç¨‹ä¸­ä½¿ç”¨: </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">export</span> RISCV=<span class="variable">$TOP</span>/riscv  <span class="comment">#å°†ä½œä¸ºæ‰€æœ‰å·¥å…·çš„å®‰è£…è·¯å¾„ --prefix=$RISCV</span></span><br><span class="line">$ <span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$RISCV</span>/bin</span><br></pre></td></tr></table></figure><p>4 . å®‰è£…spikeå·¥å…·:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./build-spike-only.sh</span><br></pre></td></tr></table></figure><p>5 . ç¼–è¯‘ <code>riscv64-unknown-linux-gnu-gcc</code>:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> riscv-gnu-toolchain</span><br><span class="line">$ ./configure --prefix=<span class="variable">$RISCV</span></span><br></pre></td></tr></table></figure><p>è¿™ä¼šå°†<code>riscv64-unknown-linux-gnu-gcc</code>ä¸<code>riscv64-unknown-elf-gcc</code>å·¥å…·ä¸€æ ·å®‰è£…åˆ°<code>$RISCV</code>ï¼ŒåŒæ—¶ <code>$RISCV/bin</code>å·²ç»è¢«æ·»åŠ ç½®PATHä¸­ï¼Œæ‰€ä»¥ä¸Šè¿°å·¥å…·å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><p>æœ€åæ‰§è¡Œä¸‹é¢çš„æŒ‡ä»¤ï¼Œè¿è¡Œbuild:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ make linux</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®‰è£…riscv-qemu"><a href="#ä¸‰ã€å®‰è£…riscv-qemu" class="headerlink" title="ä¸‰ã€å®‰è£…riscv-qemu"></a>ä¸‰ã€å®‰è£…riscv-qemu</h2><p>1ã€å®‰è£…qemu:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="variable">$TOP</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/riscv/riscv-qemu.git</span><br><span class="line">$ <span class="built_in">cd</span> riscv-qemu </span><br><span class="line">$ git submodule update --init pixman </span><br><span class="line">$ mkdir build</span><br><span class="line">$ <span class="built_in">cd</span> build</span><br><span class="line">$ ../configure </span><br><span class="line">$ make</span><br></pre></td></tr></table></figure><p>2ã€æµ‹è¯•qemuçš„ç”¨æˆ·æ¨¡å¼:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ riscv64-unknown-linux-gnu-gcc hello.c -o hello</span><br><span class="line">$ ./riscv64-linux-user/qemu-riscv64 -L <span class="variable">$RISCV</span>/sysroot hello</span><br></pre></td></tr></table></figure><p>3ã€æµ‹è¯•qemuçš„é•œåƒæ¨¡å¼:<br>å¯åŠ¨qemuï¼Œè½½å…¥bblç¤ºä¾‹é•œåƒæ–‡ä»¶ï¼Œä¸‹è½½åœ°å€:<a href="https://people.eecs.berkeley.edu/~skarandikar/host/qemu/1.9.1/bblvmlinuxinitramfs_dynamic" target="_blank" rel="noopener">bblvmlinuxinitramfs_dynamic</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ riscv-qemu/riscv64-softmmu/qemu-system-riscv64 -kernel /home/tank/bblvmlinuxinitramfs_dynamic -nographic</span><br></pre></td></tr></table></figure><h2 id="å››ã€ç¼–è¯‘busybox"><a href="#å››ã€ç¼–è¯‘busybox" class="headerlink" title="å››ã€ç¼–è¯‘busybox"></a>å››ã€ç¼–è¯‘busybox</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/mirror/busybox</span><br><span class="line">$ git checkout 1_28_stable</span><br><span class="line">$ <span class="built_in">cd</span> busybox</span><br><span class="line">$ make allnoconfig</span><br><span class="line">$ make menuconfig  <span class="comment">#æŒ‰ç…§éœ€æ±‚è®¾å®šç¼–è¯‘é€‰é¡¹ã€äº¤å‰ç¼–è¯‘å·¥å…·</span></span><br><span class="line">$ make ARCH=riscv menuconfig  <span class="comment">#è®¾ç½®äº¤å‰ç¼–è¯‘å·¥å…·ã€ç¼–è¯‘é€‰é¡¹ã€inittabç­‰</span></span><br><span class="line">$ make -j8</span><br></pre></td></tr></table></figure><ul><li><code>CONFIG_STATIC=y</code>, listed as â€œBuild BusyBox as a static binary (no shared libs)â€ in BusyBox Settings â†’ Build Options</li><li><code>CONFIG_CROSS_COMPILER_PREFIX=riscv64-unknown-linux-gnu-</code>, listed as â€œCross Compiler prefixâ€ in BusyBox Settings â†’ Build Options</li><li><code>CONFIG_FEATURE_INSTALLER=y</code>, listed as â€œSupport â€”install [-s] to install applet links at runtimeâ€ in BusyBox Settings â†’ General Configuration</li><li><code>CONFIG_INIT=y</code>, listed as â€œinitâ€ in Init utilities</li><li><code>CONFIG_ASH=y</code>, listed as â€œashâ€ in Shells</li><li><code>CONFIG_ASH_JOB_CONTROL=n</code>, listed as â€œAsh â†’ Job controlâ€ in Shells</li><li><code>CONFIG_MOUNT=y</code>, listed as â€œmountâ€ in Linux System Utilities</li><li><code>CONFIG_FEATURE_USE_INITTAB=y</code>, listed as â€œSupport reading an inittab fileâ€ in Init Utilities</li></ul><p>ç¼–è¯‘å®Œæˆåä¼šåœ¨busyboxç›®å½•ä¸‹ç”ŸæˆbusyboxäºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶</p><h2 id="äº”ã€ç¼–è¯‘riscv-linux"><a href="#äº”ã€ç¼–è¯‘riscv-linux" class="headerlink" title="äº”ã€ç¼–è¯‘riscv-linux"></a>äº”ã€ç¼–è¯‘riscv-linux</h2><p>1 . è·å–å†…æ ¸ä»£ç :</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="variable">$TOP</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/riscv/riscv-linux.git riscv-linux</span><br><span class="line">$ <span class="built_in">cd</span> riscv-linux</span><br></pre></td></tr></table></figure><p>2 . å‡†å¤‡ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿåˆå§‹åŒ–æ–‡ä»¶ï¼Œå‘½åä¸º<code>initramfs.txt</code>,å¯ä»¥åœ¨å…¶ä¸­åˆ›å»ºä»»æ„æƒ³è¦çš„æ–‡ä»¶å¤¹æ–‡ä»¶ï¼Œå¦‚ä¸‹æ˜¯æˆ‘çš„æ–‡ä»¶ç³»ç»Ÿæ ·ä¾‹ï¼š </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dir /dev 755 0 0</span><br><span class="line">nod /dev/console 644 0 0 c 5 1</span><br><span class="line">nod /dev/null 644 0 0 c 1 3</span><br><span class="line">dir /proc 755 0 0</span><br><span class="line">dir /bin 755 0 0</span><br><span class="line">dir /tmp 755 0 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file /bin/busybox /path/to/your/busybox 755 0 0</span><br><span class="line">slink /init /bin/busybox 755 0 0</span><br><span class="line">dir /sbin 755 0 0</span><br><span class="line">dir /usr 755 0 0</span><br><span class="line">dir /usr/bin 755 0 0</span><br><span class="line">dir /usr/sbin 755 0 0</span><br><span class="line">dir /etc 755 0 0</span><br><span class="line">file /etc/inittab /path/to/your/inittab 644 0 0</span><br><span class="line">dir /lib 755 0 0</span><br></pre></td></tr></table></figure><p>3 . å‡†å¤‡ä¸€ä»½åˆå§‹åŒ–è¡¨ï¼Œå‘½åä¸º<code>inittab</code>,æ”¾ç½®åœ¨å†…æ ¸çš„<code>/etc</code>ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„<code>inittab</code>æ ·ä¾‹ï¼š </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">::sysinit:/bin/busybox mount -t proc proc /proc</span><br><span class="line">::sysinit:/bin/busybox mount -t tmpfs tmpfs /tmp</span><br><span class="line">::sysinit:/bin/busybox mount -o remount,rw /dev/htifblk0 /</span><br><span class="line">::sysinit:/bin/busybox --install -s</span><br><span class="line">/dev/console::sysinit:-/bin/ash</span><br></pre></td></tr></table></figure><p>4 . ä¸‹é¢æ­£å¼å¼€å§‹ç¼–è¯‘å†…æ ¸,é¦–å…ˆé…ç½®ç¼–è¯‘é€‰é¡¹:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ make mrproper  <span class="comment">#å¾ˆé‡è¦</span></span><br><span class="line">$ make ARCH=riscv defconfig</span><br><span class="line">$ make ARCH=riscv menuconfig  <span class="comment">#è®¾ç½®äº¤å‰ç¼–è¯‘å·¥å…·ã€ç¼–è¯‘é€‰é¡¹ã€initramfsç­‰</span></span><br><span class="line">$ make -j8 ARCH=riscv</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœä¸æ‰§è¡Œmake mrproperç¼–è¯‘å†…æ ¸æ—¶å¯èƒ½å‡ºç°ç¼ºå°‘å¤´æ–‡ä»¶é”™è¯¯</li><li>menuconfig : â€œGeneral setup -&gt; Initial RAM Filesystemâ€¦â€ (CONFIG_BLK_DEV_INITRD=y)</li><li>menuconfig : â€œGeneral setup -&gt; Initramfs source files (CONFIG_INITRAMFS_SRC=/path/to/your/initramfs.txt)</li><li>menuconfig : â€œGeneral setup -&gt; Cross-compiler tool prefix (CONFIG_CROSS_COMPILER_PREFIX=riscv64-unknown-linux-gnu-)</li></ul><h2 id="å…­ã€å¯åŠ¨qemuè¿è¡Œlinuxé•œåƒ"><a href="#å…­ã€å¯åŠ¨qemuè¿è¡Œlinuxé•œåƒ" class="headerlink" title="å…­ã€å¯åŠ¨qemuè¿è¡Œlinuxé•œåƒ"></a>å…­ã€å¯åŠ¨qemuè¿è¡Œlinuxé•œåƒ</h2><p>æ‰€æœ‰å‡†å¤‡å·¥ä½œå®Œæˆï¼Œä¸‹é¢å¼€å§‹è¿è¡Œlinuxé•œåƒ<br>1 . é¦–å…ˆéœ€è¦é€šè¿‡pkå·¥å…·åŒ…ä¸­çš„bblå·¥å…·ä¸ºlinux kernelæ·»åŠ boot loader:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> &lt;riscv-pk&gt;/build</span><br><span class="line">$ rm -rf *</span><br><span class="line">$ ../configure --prefix=<span class="variable">$RISCV</span> --host=riscv64-unknown-linux-gnu --with-payload=&lt;riscv-linux&gt;/vmlinux</span><br><span class="line">$ make bbl</span><br></pre></td></tr></table></figure><p>2 . æ¥ä¸‹æ¥é€šè¿‡qemuè¿è¡Œä¸Šä¸€æ­¥ä¸­ç”Ÿæˆçš„bblæ–‡ä»¶:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">riscv-qemu/riscv64-softmmu/qemu-system-riscv64 -kernel &lt;riscv-pk&gt;/build/bbl -nographic</span><br></pre></td></tr></table></figure><p>3 . æ¥ä¸‹æ¥ä½ çš„å±å¹•ä¸Šä¼šæƒ³RVå›¾åƒï¼Œé€šè¿‡ä½ çš„åˆ¶ä½œçš„linuxé•œåƒä¹Ÿä¼šé€šè¿‡qemuè¿è¡Œï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åœ¨å…¶ä¸­æ·»åŠ äº†busyboxå·¥å…·åŒ…ï¼Œä½ å¯ä»¥æ‰§è¡Œä¾‹å¦‚lsã€cdã€pwdç­‰æŒ‡ä»¤ã€‚é€šè¿‡è¿˜å¯ä»¥å°†è‡ªå·±ç¼–å†™çš„cè¯­è¨€ï¼Œgè¯­è¨€çš„ç¨‹åºé€šè¿‡riscvçš„å·¥å…·é“¾è¿›è¡Œç¼–è¯‘ï¼Œç„¶åæŒ‰ç…§æ ·ä¾‹ä¿®æ”¹<code>initramfs.txt</code>æ–‡ä»¶ï¼Œå°†ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶åŠ å…¥åˆ°å†…æ ¸çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œç„¶åé‡æ–°ä»ç¼–è¯‘å†…æ ¸å¼€å§‹é‡æ–°æ‰§è¡Œä¸€éä¸Šè¿°è¿‡ç¨‹ï¼Œä¾¿å¯ä»¥åœ¨å†…æ ¸ä¸­è¿è¡Œä½ è‡ªå·±å†™çš„ç¨‹åºã€‚</p><h2 id="ä¸ƒã€æœ€å"><a href="#ä¸ƒã€æœ€å" class="headerlink" title="ä¸ƒã€æœ€å"></a>ä¸ƒã€æœ€å</h2><p>æœ€åæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œä¸Šè¿°è¿‡ç¨‹æ˜¯ä¸€ä¸ªéå¸¸ç¹ççš„è¿‡ç¨‹ï¼Œä½ éœ€è¦æœ‰è¶³å¤Ÿçš„è€å¿ƒä»¥åŠè¶³å¤Ÿè¿è¡Œï¼Œé¦–å…ˆgccå·¥å…·é“¾å’Œå†…æ ¸çš„ç¼–è¯‘å®‰è£…æ˜¯ä¸€ä¸ªéå¸¸è´¹äº‹çš„è¿‡ç¨‹ï¼Œä¸ä»…å¦‚æ­¤ä½ è¿˜é‡åˆ°å„ç§å„ç§è«åå…¶å¦™çš„é—®é¢˜ï¼Œå…¶ä¸­å„ä¸ªå·¥å…·é“¾ç‰ˆæœ¬çš„åŒ¹é…ä¾¿æ˜¯ä¸€ä¸ªä»¤äººæåº¦å¤´ç—›çš„é—®é¢˜.<br>åšä¸»è¶³å¤Ÿå¹¸è¿ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¿è¡Œä¸Šè¿°è¿‡ç¨‹ä¸­éå¸¸å¹¸è¿çš„æ²¡æœ‰é‡åˆ°ç‰ˆæœ¬ä¸åŒ¹é…çš„é—®é¢˜ï¼Œå¸Œæœ›è¯¸ä½ä¹Ÿèƒ½å¦‚æ­¤å¹¸è¿ã€‚</p><h2 id="å…«ã€æœ€åçš„æœ€å"><a href="#å…«ã€æœ€åçš„æœ€å" class="headerlink" title="å…«ã€æœ€åçš„æœ€å"></a>å…«ã€æœ€åçš„æœ€å</h2><p>è¿‘æœŸå› ä¸ºå„ç§åŸå› éœ€è¦é‡æ–°ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬å¤ç°ä¸Šè¿°è¿‡ç¨‹ï¼Œè€—æ—¶è¿‘3å¤©é‡åˆ°äº†å„ç§å„æ ·çš„é—®é¢˜ã€‚æœ€åï¼Œåœ¨å¸ˆå…„çš„æç¤ºä¸‹ï¼Œé€‰æ‹©äº†sifiveå…¬å¸çš„é›†æˆå·¥å…·ã€‚å®Œæˆä¸Šè¿°å·¥ç¨‹åªéœ€è¦ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> --recursive https://github.com/sifive/freedom-u-sdk</span><br><span class="line">$ <span class="built_in">cd</span> freedom-u-sdk</span><br><span class="line">$ make all</span><br><span class="line">$ make qemu</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ä½ å°±ä¼šå‘ç°ï¼Œè‡ªå·±ä¹‹å‰æ‰€åšçš„ä¸€åˆ‡åŠªåŠ›åœ¨åˆ«äººçœ‹æ¥åªä¸è¿‡ä¸€ä¸ªè„šæœ¬å°±èƒ½è§£å†³ï¼Œå¹¶ä¸”ä½ ä¸ä¼šæƒ³åˆ°sifiveä¸ºä½ ç§»æ¤å¤šå°‘ä¾èµ–åº“ã€‚ã€‚ã€‚<br>æœ€åç»™å¤§å®¶é€ä¸Šä¸€ä¸ªè¿è¡Œç•Œé¢å›¾ï¼ˆé»˜è®¤ç”¨æˆ·åä¸ºï¼šrootï¼Œå¯†ç ä¸ºï¼šsifiveï¼‰ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/sifive.png" alt="Alt text" title="">                </div>                <div class="image-caption">Alt text</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿‡ç¨‹ï¼š&lt;br&gt;åœ¨ç‰©ç†æœåŠ¡å™¨ä¸Šå®‰è£…qemuæ¨¡æ‹Ÿå™¨ï¼Œæ¨¡æ‹Ÿå™¨ä¸­è¿è¡ŒåŸºäºriscvæŒ‡ä»¤é›†ç¼–è¯‘çš„linuxé•œåƒæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å·¥å…·é›†åˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;riscv-qemuï¼ˆæ¨¡æ‹Ÿå™¨ï¼Œå¯ä»¥æ¨¡æ‹Ÿè¿è¡ŒriscvæŒ‡ä»¤é›†çš„ç¨‹åºæˆ–é•œåƒï¼‰&lt;/li&gt;
&lt;li&gt;riscv-tools
      
    
    </summary>
    
      <category term="riscv" scheme="http://changzihao.me/categories/riscv/"/>
    
    
      <category term="riscv" scheme="http://changzihao.me/tags/riscv/"/>
    
      <category term="qemu" scheme="http://changzihao.me/tags/qemu/"/>
    
  </entry>
  
  <entry>
    <title>ç²’å­ç¾¤ç®—æ³•(PSO) Python å®ç°</title>
    <link href="http://changzihao.me/2018/02/02/%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95-PSO-Python-%E5%AE%9E%E7%8E%B0/"/>
    <id>http://changzihao.me/2018/02/02/ç²’å­ç¾¤ç®—æ³•-PSO-Python-å®ç°/</id>
    <published>2018-02-02T10:28:00.000Z</published>
    <updated>2018-02-02T12:13:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€ç®€ä»‹ï¼š"><a href="#ä¸€ã€ç®€ä»‹ï¼š" class="headerlink" title="ä¸€ã€ç®€ä»‹ï¼š"></a>ä¸€ã€ç®€ä»‹ï¼š</h2><ul><li>ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•æ˜¯ä¸€ç§åŸºäºç§ç¾¤å¯»ä¼˜çš„å¯å‘å¼æœç´¢ç®— æ³•ã€‚åœ¨1995å¹´ç”±Kennedy å’ŒEberhart é¦–å…ˆæå‡ºæ¥çš„ã€‚</li><li>å®ƒçš„ä¸»è¦å¯å‘æ¥æºäºå¯¹é¸Ÿç¾¤ç¾¤ä½“è¿åŠ¨è¡Œä¸ºçš„ç ”ç©¶ã€‚æˆ‘ ä»¬ç»å¸¸å¯ä»¥è§‚å¯Ÿåˆ°é¸Ÿç¾¤è¡¨ç°å‡ºæ¥çš„åŒæ­¥æ€§ï¼Œè™½ç„¶æ¯åª é¸Ÿçš„è¿åŠ¨è¡Œä¸ºéƒ½æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œä½†æ˜¯åœ¨æ•´ä¸ªé¸Ÿç¾¤çš„é£ è¡Œè¿‡ç¨‹ä¸­å´è¡¨ç°å‡ºäº†é«˜åº¦ä¸€è‡´æ€§çš„å¤æ‚è¡Œä¸ºï¼Œå¹¶ä¸”å¯ ä»¥è‡ªé€‚åº”çš„è°ƒæ•´é£è¡Œçš„çŠ¶æ€å’Œè½¨è¿¹ã€‚</li><li>é¸Ÿç¾¤å…·æœ‰è¿™æ ·çš„å¤æ‚é£è¡Œè¡Œä¸ºçš„åŸå› ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ¯ åªé¸Ÿåœ¨é£è¡Œè¿‡ç¨‹ä¸­éƒ½éµå¾ªäº†ä¸€å®šçš„è¡Œä¸ºè§„åˆ™ï¼Œå¹¶èƒ½å¤Ÿ æŒæ¡é‚»åŸŸå†…å…¶å®ƒé¸Ÿçš„é£è¡Œä¿¡æ¯ã€‚</li></ul><h2 id="äºŒã€åŸç†"><a href="#äºŒã€åŸç†" class="headerlink" title="äºŒã€åŸç†"></a>äºŒã€åŸç†</h2><ul><li>ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•å€Ÿé‰´äº†è¿™æ ·çš„æ€æƒ³ï¼Œæ¯ä¸ªç²’å­ä»£è¡¨å¾… æ±‚è§£é—®é¢˜æœç´¢è§£ç©ºé—´ä¸­çš„ä¸€ä¸ªæ½œåœ¨è§£ï¼Œå®ƒç›¸å½“äºä¸€åªé¸Ÿï¼Œâ€œé£è¡Œä¿¡æ¯â€åŒ…æ‹¬ç²’å­å½“å‰çš„ä½ç½®å’Œé€Ÿåº¦ä¸¤ä¸ªçŠ¶æ€é‡ã€‚</li><li>æ¯ä¸ªç²’å­éƒ½å¯ä»¥è·å¾—å…¶é‚»åŸŸå†…å…¶å®ƒä¸ªä½“çš„ä¿¡æ¯ï¼Œå¯¹æ‰€ ç»è¿‡çš„ä½ç½®è¿›è¡Œè¯„ä»·ï¼Œå¹¶æ ¹æ®è¿™äº›ä¿¡æ¯å’Œä½ç½®é€Ÿåº¦æ›´ æ–°è§„åˆ™ï¼Œæ”¹å˜è‡ªèº«çš„ä¸¤ä¸ªçŠ¶æ€é‡ï¼Œåœ¨â€œé£è¡Œâ€è¿‡ç¨‹ä¸­ ä¼ é€’ä¿¡æ¯å’Œäº’ç›¸å­¦ä¹ ï¼Œå»æ›´å¥½åœ°é€‚åº”ç¯å¢ƒã€‚</li><li>éšç€è¿™ä¸€è¿‡ç¨‹çš„ä¸æ–­è¿›è¡Œï¼Œç²’å­ç¾¤æœ€ç»ˆèƒ½å¤Ÿæ‰¾åˆ°é—®é¢˜ çš„è¿‘ä¼¼æœ€ä¼˜è§£ã€‚</li></ul><h2 id="ä¸‰ã€æ„æˆè¦ç´ "><a href="#ä¸‰ã€æ„æˆè¦ç´ " class="headerlink" title="ä¸‰ã€æ„æˆè¦ç´ "></a>ä¸‰ã€æ„æˆè¦ç´ </h2><p>1 . ç²’å­ç¾¤</p><ul><li>æ¯ä¸ªç²’å­å¯¹åº”æ‰€æ±‚è§£é—®é¢˜çš„ä¸€ä¸ªå¯è¡Œè§£</li><li>ç²’å­é€šè¿‡å…¶ä½ç½®å’Œé€Ÿåº¦è¡¨ç¤º<ul><li>ç²’å­iåœ¨ç¬¬nè½®çš„ä½ç½®: $x_n^{(i)}$</li><li>ç²’å­iåœ¨ç¬¬nè½®çš„é€Ÿåº¦: $v_n^{(i)}$</li></ul></li></ul><p>2 . è®°å½•</p><ul><li>$p_{best}^{(i)}$ :ç²’å­ğ‘–çš„å†å²æœ€å¥½ä½ç½® </li><li>$g_{best}$:å…¨å±€å†å²æœ€å¥½ä½ç½®</li></ul><p>3 . è®¡ç®—é€‚åº”åº¦çš„å‡½æ•° </p><ul><li>é€‚åº”åº¦:$ğ‘“(ğ‘¥)$</li></ul><h2 id="å››ã€ç®—æ³•è¿‡ç¨‹æè¿°"><a href="#å››ã€ç®—æ³•è¿‡ç¨‹æè¿°" class="headerlink" title="å››ã€ç®—æ³•è¿‡ç¨‹æè¿°"></a>å››ã€ç®—æ³•è¿‡ç¨‹æè¿°</h2><p>1 . åˆå§‹åŒ– </p><ul><li>åˆå§‹åŒ–ç²’å­ç¾¤:æ¯ä¸ªç²’å­çš„ä½ç½®å’Œé€Ÿåº¦ï¼Œå³ $x_0^{(i)}$ å’Œ $v_0^{(i)}$ </li><li>åˆå§‹åŒ–$p_{best}^{(i)}$å’Œ$g_{best}$</li></ul><p>2 . å¾ªç¯æ‰§è¡Œå¦‚ä¸‹ä¸‰æ­¥ç›´è‡³æ»¡è¶³ç»“æŸæ¡ä»¶</p><ul><li>è®¡ç®—æ¯ä¸ªç²’å­çš„é€‚åº”åº¦: $f(x_n^{(i)})$</li><li>æ›´æ–°æ¯ä¸ªç²’å­å†å²æœ€å¥½é€‚åº”åº¦åŠå…¶ç›¸åº”çš„ä½ç½®ï¼Œæ›´æ–°å½“å‰å…¨å±€æœ€å¥½é€‚ åº”åº¦åŠå…¶ç›¸åº”çš„ä½ç½®</li><li>æ›´æ–°æ¯ä¸ªç²’å­çš„é€Ÿåº¦å’Œä½ç½®</li></ul><script type="math/tex; mode=display">v_{n+1}^{(i)}=w*v_{n}^{(i)}+c_1*r_1*(p_{best}^{(i)}-x_{n}^{(i)})+c_2*r_2*(g_{best}-x_{n}^{(i)})</script><script type="math/tex; mode=display">x_{n+1}^{(i)}=x_n^{(i)}+v_{n+1}^{(i)}</script><blockquote><p>ä¸Šé¢å…¬å¼ä¸­ï¼š<br>iè¡¨ç¤ºç²’å­ç¼–å·ï¼›nè¡¨ç¤ºæ—¶åˆ»ï¼Œåæ˜ åœ¨è¿­ä»£æ¬¡æ•°ä¸Šï¼›wæ˜¯æƒ¯æ€§æƒé‡ï¼Œä¸€èˆ¬è®¾ç½®åœ¨0.4&gt;å·¦å³ï¼›cè¡¨ç¤ºå­¦ä¹ å› å­ï¼Œä¸€èˆ¬éƒ½å–å€¼ä¸º2ï¼›Xpbestè¡¨ç¤ºçš„æ˜¯ç²’å­içš„ç»éªŒï¼Œä¹Ÿå³æ˜¯ç²’å­iæ‰€åˆ°è¿‡æœ€ä½³ä½ç½®ï¼›Xgbestä»£è¡¨çš„æ˜¯å…¨å±€æœ€ä¼˜ç²’å­çš„ä½ç½®ï¼›ræ˜¯0åˆ°1ä¹‹é—´çš„éšæœºå€¼ã€‚</p></blockquote><p>3 . ç®—æ³•ç»ˆæ­¢æ¡ä»¶ </p><ul><li>è¿­ä»£çš„è½®æ•°</li><li>æœ€ä½³ä½ç½®è¿ç»­æœªæ›´æ–°çš„è½®æ•°</li><li>é€‚åº”åº¦å‡½æ•°çš„å€¼åˆ°è¾¾é¢„æœŸè¦æ±‚</li></ul><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>1 . å’Œé—ä¼ ç®—æ³•ç›¸æ¯”</p><ul><li>é—ä¼ ç®—æ³•å¼ºè°ƒâ€œé€‚è€…ç”Ÿå­˜â€ï¼Œä¸å¥½çš„ä¸ªä½“åœ¨ç«äº‰ä¸­è¢«æ·˜æ±°; PSOå¼ºè°ƒâ€œååŒåˆä½œâ€ï¼Œä¸å¥½çš„ä¸ªä½“é€šè¿‡å­¦ä¹ å‘å¥½ çš„æ–¹å‘è½¬å˜ã€‚</li><li>é—ä¼ ç®—æ³•ä¸­æœ€å¥½çš„ä¸ªä½“é€šè¿‡äº§ç”Ÿæ›´å¤šçš„åä»£æ¥ä¼ æ’­åŸºå› ; PSOä¸­çš„æœ€å¥½ä¸ªä½“é€šè¿‡å¸å¼•å…¶å®ƒä¸ªä½“å‘å®ƒé è¿‘æ¥æ–½åŠ å½±å“ã€‚</li><li>é—ä¼ ç®—æ³•çš„é€‰æ‹©æ¦‚ç‡åªä¸ä¸Šä¸€ä»£ç¾¤ä½“ç›¸å…³ï¼Œè€Œä¸å†å²æ— å…³ï¼Œç¾¤ä½“çš„ä¿¡æ¯å˜åŒ–è¿‡ç¨‹æ˜¯ä¸€ä¸ªMarkové“¾è¿‡ç¨‹; è€ŒPSOä¸­çš„ä¸ªä½“é™¤äº†æœ‰ä½ç½®å’Œé€Ÿåº¦å¤–ï¼Œè¿˜æœ‰ç€è¿‡å»çš„å†å²ä¿¡æ¯ ($p_{Best}$ã€$g_{Best}$)ã€‚</li></ul><p>2 . ä¼˜ç‚¹</p><ul><li>æ˜“äºå®ç°;</li><li>å¯è°ƒå‚æ•°è¾ƒå°‘;</li><li>æ‰€éœ€ç§ç¾¤æˆ–å¾®ç²’ç¾¤è§„æ¨¡è¾ƒå°; ï± è®¡ç®—æ•ˆç‡é«˜ï¼Œæ”¶æ•›é€Ÿåº¦å¿«ã€‚</li></ul><p>3 . ç¼ºç‚¹</p><ul><li>å’Œå…¶å®ƒæ¼”åŒ–è®¡ç®—ç®—æ³•ç±»ä¼¼ï¼Œä¸ä¿è¯æ”¶æ•›åˆ°å…¨å±€æœ€ä¼˜è§£</li></ul><p>4 . ä¸€ç§éšæœºä¼˜åŒ–ç®—æ³•ï¼Œé€‚ç”¨äºæ±‚è§£è¿ç»­è§£ç©ºé—´çš„ä¼˜åŒ–é—®é¢˜</p><h2 id="å…­ã€å®ç°"><a href="#å…­ã€å®ç°" class="headerlink" title="å…­ã€å®ç°"></a>å…­ã€å®ç°</h2><p>ç”¨pythonå®ç°ç²’å­ç¾¤ç®—æ³•ï¼Œæ±‚è§£å‡½æ•° $f(x)=x^3-5x^2-2x+3$ åœ¨å–å€¼èŒƒå›´[-2,5]ä¹‹é—´çš„æœ€å°å€¼å’Œæœ€å¤§å€¼</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ğ‘“(ğ‘¥) =ğ‘¥3âˆ’5ğ‘¥2âˆ’2ğ‘¥+3</span></span><br><span class="line"><span class="comment">#x = [2~5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    speed:é€Ÿåº¦</span></span><br><span class="line"><span class="string">    position:ä½ç½®</span></span><br><span class="line"><span class="string">    fit:é€‚åº”åº¦</span></span><br><span class="line"><span class="string">    lbestposition:ç»å†çš„æœ€ä½³ä½ç½®</span></span><br><span class="line"><span class="string">    lbestfit:ç»å†çš„æœ€ä½³çš„é€‚åº”åº¦å€¼</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, speed, position, fit, lBestPosition, lBestFit)</span>:</span></span><br><span class="line">        self.speed = speed</span><br><span class="line">        self.position = position</span><br><span class="line">        self.fit = fit</span><br><span class="line">        self.lBestFit = lBestFit</span><br><span class="line">        self.lBestPosition = lBestPosition</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PSO</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    fitFunc:é€‚åº”åº¦å‡½æ•°</span></span><br><span class="line"><span class="string">    birdNum:ç§ç¾¤è§„æ¨¡</span></span><br><span class="line"><span class="string">    w:æƒ¯æ€§æƒé‡</span></span><br><span class="line"><span class="string">    c1,c2:ä¸ªä½“å­¦ä¹ å› å­ï¼Œç¤¾ä¼šå­¦ä¹ å› å­</span></span><br><span class="line"><span class="string">    solutionSpace:è§£ç©ºé—´ï¼Œåˆ—è¡¨ç±»å‹ï¼š[æœ€å°å€¼ï¼Œæœ€å¤§å€¼]\</span></span><br><span class="line"><span class="string">    positonSpace:æ›´æ–°åè§£ç©ºé—´çš„èŒƒå›´ï¼Œåˆ—è¡¨ç±»å‹ï¼š[æœ€å°å€¼ï¼Œæœ€å¤§å€¼]</span></span><br><span class="line"><span class="string">    stabel:è§£çš„ç¨³å®šæ¬¡æ•°</span></span><br><span class="line"><span class="string">    max_stable:æœ€ä½³ä½ç½®è¿ç»­æœªæ›´æ–°çš„è½®æ•°</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, fitFunc, birdNum, w, c1, c2, solutionSpace, max_stable)</span>:</span></span><br><span class="line">        self.fitFunc = fitFunc</span><br><span class="line">        self.w = w</span><br><span class="line">        self.c1 = c1</span><br><span class="line">        self.c2 = c2</span><br><span class="line">        self.birds, self.best = self.initbirds(birdNum, solutionSpace)</span><br><span class="line">        self.positonSpace = [solutionSpace[<span class="number">0</span>] - c1 *(solutionSpace[<span class="number">1</span>] - solutionSpace[<span class="number">0</span>]),</span><br><span class="line">                             solutionSpace[<span class="number">1</span>] + c2 *(solutionSpace[<span class="number">1</span>] - solutionSpace[<span class="number">0</span>])]</span><br><span class="line">        self.stable = <span class="number">0</span></span><br><span class="line">        self.max_stable =max_stable</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initbirds</span><span class="params">(self, size, solutionSpace)</span>:</span></span><br><span class="line">        birds = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(size):</span><br><span class="line">            position = random.uniform(solutionSpace[<span class="number">0</span>], solutionSpace[<span class="number">1</span>])</span><br><span class="line">            speed = <span class="number">0</span></span><br><span class="line">            fit = self.fitFunc(position)</span><br><span class="line">            <span class="comment"># (self, speed, position, fit, lBestPosition, lBestFit)</span></span><br><span class="line">            birds.append(Bird(speed, position, fit, position, fit))</span><br><span class="line">        best = birds[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> bird <span class="keyword">in</span> birds :</span><br><span class="line">            <span class="keyword">if</span> bird.fit &gt; best.fit :</span><br><span class="line">                best = bird</span><br><span class="line">        <span class="keyword">return</span> birds, best</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">updateBirds</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> bird <span class="keyword">in</span> self.birds:</span><br><span class="line">            <span class="comment"># æ›´æ–°é€Ÿåº¦</span></span><br><span class="line">            bird.speed = self.w * bird.speed \</span><br><span class="line">                         + self.c1 * random.random() * (bird.lBestPosition - bird.position) \</span><br><span class="line">                         + self.c2 * random.random() * (self.best.position - bird.position)</span><br><span class="line">            <span class="comment"># æ›´æ–°ä½ç½®</span></span><br><span class="line">            bird.position = bird.position + bird.speed</span><br><span class="line">            <span class="comment"># ç›¸å¯¹äºsolutionSpaceè¿›è¡Œå½’ä¸€åŒ–</span></span><br><span class="line">            bird.position = self.normalization(bird.position)</span><br><span class="line">            <span class="comment"># è·Ÿæ–°é€‚åº”åº¦</span></span><br><span class="line">            bird.fit = self.fitFunc(bird.position)</span><br><span class="line">            <span class="comment"># æŸ¥çœ‹æ˜¯å¦éœ€è¦æ›´æ–°ç»éªŒæœ€ä¼˜</span></span><br><span class="line">            <span class="keyword">if</span> bird.fit &gt; bird.lBestFit:</span><br><span class="line">                bird.lBestFit = bird.fit</span><br><span class="line">                bird.lBestPosition = bird.position</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">(self, maxIter)</span>:</span></span><br><span class="line">        <span class="comment"># åªè€ƒè™‘äº†æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œå¦‚éœ€è€ƒè™‘é˜ˆå€¼ï¼Œæ·»åŠ åˆ¤æ–­è¯­å¥å°±å¥½</span></span><br><span class="line">        is_updated = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(maxIter):</span><br><span class="line">            <span class="comment"># æ›´æ–°ç²’å­</span></span><br><span class="line">            self.updateBirds()</span><br><span class="line">            <span class="keyword">for</span> bird <span class="keyword">in</span> self.birds:</span><br><span class="line">                <span class="comment"># æŸ¥çœ‹æ˜¯å¦éœ€è¦æ›´æ–°å…¨å±€æœ€ä¼˜</span></span><br><span class="line">                <span class="keyword">if</span> bird.fit &gt; self.best.fit:</span><br><span class="line">                    self.best = bird</span><br><span class="line">                    is_updated = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> is_updated :</span><br><span class="line">            self.stable = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            self.stable +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.stable &gt;= self.max_stable:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">normalization</span><span class="params">(self, position)</span>:</span></span><br><span class="line">        postion =(position - self.positonSpace[<span class="number">0</span>]) \</span><br><span class="line">                / (self.positonSpace[<span class="number">1</span>] - self.positonSpace[<span class="number">0</span>])</span><br><span class="line">        postion = postion * (solutionSpace[<span class="number">1</span>] - solutionSpace[<span class="number">0</span>])</span><br><span class="line">        postion = postion + solutionSpace[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> postion</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fx_max_fit</span><span class="params">(p)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> p ** <span class="number">3</span> - <span class="number">5</span> * p * p - <span class="number">2</span> * p + <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fx_min_fit</span><span class="params">(p)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> -(p ** <span class="number">3</span> - <span class="number">5</span> * p * p - <span class="number">2</span> * p + <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    solutionSpace = [<span class="number">-2</span>, <span class="number">5</span>]</span><br><span class="line">    <span class="comment">#w: æƒ¯æ€§æƒé‡</span></span><br><span class="line">    w = <span class="number">1</span></span><br><span class="line">    <span class="comment">#c1, c2: ä¸ªä½“å­¦ä¹ å› å­ï¼Œç¤¾ä¼šå­¦ä¹ å› å­</span></span><br><span class="line">    c1 = <span class="number">2</span></span><br><span class="line">    c2 = <span class="number">2</span></span><br><span class="line">    <span class="comment">#birdNum:ç§ç¾¤è§„æ¨¡</span></span><br><span class="line">    birdNum = <span class="number">5</span></span><br><span class="line">    <span class="comment">#maxIter æœ€å¤§è¿­ä»£æ¬¡æ•°</span></span><br><span class="line">    maxIter = <span class="number">10000</span></span><br><span class="line">    <span class="comment"># max_stable:æœ€ä½³ä½ç½®è¿ç»­æœªæ›´æ–°çš„è½®æ•°</span></span><br><span class="line">    max_stable = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    max = PSO(fx_max_fit, birdNum, w, c1, c2, solutionSpace, <span class="number">5</span>)</span><br><span class="line">    min = PSO(fx_min_fit, birdNum, w, c1, c2, solutionSpace, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    max.solve(maxIter)</span><br><span class="line">    min.solve(maxIter)</span><br><span class="line"></span><br><span class="line">    print(max.best.lBestPosition)</span><br><span class="line">    print(min.best.lBestPosition)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¸€ã€ç®€ä»‹ï¼š&quot;&gt;&lt;a href=&quot;#ä¸€ã€ç®€ä»‹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€ç®€ä»‹ï¼š&quot;&gt;&lt;/a&gt;ä¸€ã€ç®€ä»‹ï¼š&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•æ˜¯ä¸€ç§åŸºäºç§ç¾¤å¯»ä¼˜çš„å¯å‘å¼æœç´¢ç®— æ³•ã€‚åœ¨1995å¹´ç”±Kennedy å’ŒEberhart é¦–
      
    
    </summary>
    
    
      <category term="PSO" scheme="http://changzihao.me/tags/PSO/"/>
    
      <category term="ç²’å­ç¾¤" scheme="http://changzihao.me/tags/%E7%B2%92%E5%AD%90%E7%BE%A4/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://changzihao.me/2017/11/16/hello-world/"/>
    <id>http://changzihao.me/2017/11/16/hello-world/</id>
    <published>2017-11-16T08:35:52.000Z</published>
    <updated>2017-11-17T10:08:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
      <category term="hexo" scheme="http://changzihao.me/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://changzihao.me/tags/hexo/"/>
    
  </entry>
  
</feed>
